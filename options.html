<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>同步设置</title>
    <link rel="stylesheet" href="options.css" />
  </head>
  <body>
    <main class="page">
      <header class="header">
        <h1>配置同步</h1>
        <p class="sub">支持 GitHub / Gitee：把当前配置（搜索、历史、卡片、同步信息）保存为仓库中的一个 JSON 文件。</p>
      </header>

      <section class="card">
        <div class="grid">
          <label class="field">
            <span class="label">Git 地址</span>
            <input id="gitUrl" class="input" placeholder="例如：git@github.com:owner/repo.git" />
          </label>

          <label class="field field-full">
            <span class="label">Token</span>
            <input id="token" class="input" type="password" placeholder="GitHub Token / Gitee 私人令牌" />
            <span class="hint">仅保存在浏览器的 `chrome.storage.sync`，不会上传到别处；推送/拉取时会使用该 token。</span>
          </label>

          <label class="field field-full">
            <span class="label">自动同步</span>
            <label style="display: flex; align-items: center; gap: 10px">
              <input id="autoPush" type="checkbox" />
              <span class="hint" style="margin: 0">配置变更后自动推送到远端</span>
            </label>
          </label>
        </div>

        <div class="actions">
          <button id="saveBtn" class="btn primary" type="button">保存</button>
          <button id="pushBtn" class="btn" type="button">推送到远端</button>
          <button id="pullBtn" class="btn" type="button">从远端拉取</button>
          <button id="testBtn" class="btn" type="button">测试连接</button>
        </div>

        <p id="status" class="status" role="status"></p>
      </section>

      <section class="card">
        <h2>本地导入/导出</h2>
        <div class="actions">
          <button id="exportBtn" class="btn" type="button">导出 JSON</button>
          <label class="btn file">
            <input id="importFile" type="file" accept="application/json" />
            导入 JSON
          </label>
        </div>
        <p class="hint">导入会覆盖当前配置（等同于从远端拉取后的写入）。</p>
      </section>
    </main>

    <script src="options.js" type="module"></script>
  </body>
</html>
